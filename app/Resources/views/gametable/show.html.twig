{% extends 'base.html.twig' %}

{% block body %}
    <h1>Gametable</h1>

    <table>
        <tbody>
            <tr>
                <th>Id</th>
                <td>{{ gameTable.id }}</td>
            </tr>
            <tr>
                <th>Maptype</th>
                <td>{{ gameTable.mapType }}</td>
            </tr>
            <tr>
                <th>Open</th>
                <td>{% if gameTable.status %}Yes{% else %}No{% endif %}</td>
            </tr>
        </tbody>
    </table>

    <table>
        <tbody>
        {% for player in gameTable.players %}
        <tr>
            <th>Player</th>
            <td>{{ player.user.getUsername }}</td>
            {% if player.user == app.user %}
            <td>
                {{ form_start(leave_form) }}
                <input type="submit" value="Leave">
                {{ form_end(leave_form) }}
            </td>
            {% endif %}
        </tr>
        {% endfor %}
        </tbody>
    </table>

    <form action="{{ path('gametable_index') }}" method="get">
        <input type="submit" value="Back to the list">
    </form>

{% endblock %}

